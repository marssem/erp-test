<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style >
td{
	text-align:center;
	cursor:pointer;
	width:40px;
	height:40px;
}
td:hover{
	background-color:black;
	color:white;
	font-weight:bold;
}
</style>
</head>
<body>
<div id="rDiv"></div>
<input type="number" id="maxNum">
<button onclick="stateGame(this)">게임시작</button>
<script>

	function stateGame(){
		var max = document.querySelector('#maxNum').value;
		var str = '<table border="1">';
		var maxln = max*max;
	 	for(var i=1;i<=maxln;i++){
			if(i%(max+1)==0){
				str +='<tr>';
			}
			str += '<td>'+i+'</td>';
			if(i%max==0){
				str += '</tr>';
			}
		} 
		
		for(var i=1;i<max;i++){
			str +'<tr>';
			for(;i<max;i++){
				str += '<td>'+i+'</td>';
			}
			str +'</tr>';
		}
		
		str += '</table>';
		document.querySelector('#rDiv').innerHTML=str;
		alert('게임을 시작하지!');
		var tdObjs = document.querySelectorAll('td');
		var num = Math.floor(Math.random()*maxln)+1;
		for(var i=0;i<tdObjs.length;i++){
			tdObjs[i].onclick = function(){
				if(this.innerText==num){
					alert('찾았다 폭탄!!');
				}else{
					this.innerText = 'x';
				}
			}
		}
		
	}	
</script>
</body>
</html>